{"version":3,"sources":["webpack://webpack-module-builder/./src/collapsible/src/scripts/collapsible.js","webpack://webpack-module-builder/./src/collapsible/src/styles/collapsible.scss?f4f0"],"names":["collapsible","document","addEventListener","event","element","target","targetSelector","getAttribute","toggleCollapse","targets","querySelectorAll","forEach","classList","contains","style","maxHeight","scrollHeight","toggle","closeOnClickOutsideElements","hideOnClickOutside","outsideClickListener","isVisible","remove","elem","offsetWidth","offsetHeight","getClientRects","length","docReady","fn","readyState","setTimeout"],"mappings":";;AAAA,SAASA,WAAT,GAAsB;AACpBC,UAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmC,UAACC,KAAD,EAAW;AAE5C,QAAMC,OAAO,GAAGD,KAAK,CAACE,MAAtB;AACA,QAAMC,cAAc,GAAGF,OAAO,CAACG,YAAR,CAAqB,yBAArB,CAAvB;;AAEA,QAAID,cAAc,KAAK,IAAvB,EAA6B;AAC3BE,oBAAc,CAACF,cAAD,CAAd;AACD;AACF,GARD,EAQG,KARH;;AAUA,MAAME,cAAc,GAAG,SAAjBA,cAAiB,CAAAF,cAAc,EAAI;AACvC,QAAMG,OAAO,GAAGR,QAAQ,CAACS,gBAAT,CAA0B,MAAMJ,cAAhC,CAAhB;AACAG,WAAO,CAACE,OAAR,CAAgB,UAAAN,MAAM,EAAI;AACxB,UAAI,CAACA,MAAM,CAACO,SAAP,CAAiBC,QAAjB,CAA0B,kBAA1B,CAAL,EAAoD;AAClDR,cAAM,CAACS,KAAP,CAAaC,SAAb,GAAyBV,MAAM,CAACW,YAAP,GAAsB,IAA/C;AACD,OAFD,MAEO;AACLX,cAAM,CAACS,KAAP,CAAaC,SAAb,GAAyB,IAAI,IAA7B;AACD;;AACDV,YAAM,CAACO,SAAP,CAAiBK,MAAjB,CAAwB,kBAAxB;AACD,KAPD;AAQD,GAVD;;AAYA,MAAMC,2BAA2B,GAAGjB,QAAQ,CAACS,gBAAT,CAA0B,+BAA1B,CAApC;AACAQ,6BAA2B,CAACP,OAA5B,CAAoC,UAAAP,OAAO;AAAA,WAAIe,kBAAkB,CAACf,OAAD,CAAtB;AAAA,GAA3C;;AAEA,WAASe,kBAAT,CAA4Bf,OAA5B,EAAqC;AACnC,QAAMgB,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAjB,KAAK,EAAI;AACpC;AACA,UAAI,CAACC,OAAO,CAACS,QAAR,CAAiBV,KAAK,CAACE,MAAvB,CAAD,IAAmCgB,SAAS,CAACjB,OAAD,CAA5C,IAAyD,CAACA,OAAO,CAACQ,SAAR,CAAkBC,QAAlB,CAA2BV,KAAK,CAACE,MAAN,CAAaE,YAAb,CAA0B,yBAA1B,CAA3B,CAA9D,EAAgJ;AAC9IH,eAAO,CAACQ,SAAR,CAAkBU,MAAlB,CAAyB,kBAAzB;AACAlB,eAAO,CAACU,KAAR,CAAcC,SAAd,GAA0B,CAA1B;AACD;AACF,KAND;;AAOAd,YAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCkB,oBAAnC;;AACA,QAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAE,IAAI;AAAA,aAAI,CAAC,CAACA,IAAF,IAAU,CAAC,EAAEA,IAAI,CAACC,WAAL,IAAoBD,IAAI,CAACE,YAAzB,IAAyCF,IAAI,CAACG,cAAL,GAAsBC,MAAjE,CAAf;AAAA,KAAtB,CATmC,CAS2E;;AAC/G;AACF;;AAED,SAASC,QAAT,CAAkBC,EAAlB,EAAsB;AACpB;AACA,MAAI5B,QAAQ,CAAC6B,UAAT,KAAwB,UAAxB,IAAsC7B,QAAQ,CAAC6B,UAAT,KAAwB,aAAlE,EAAiF;AAC/E;AACAC,cAAU,CAACF,EAAD,EAAK,CAAL,CAAV;AACD,GAHD,MAGO;AACL5B,YAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C2B,EAA9C;AACD;AACF;;AAEDD,QAAQ,CAAC5B,WAAD,CAAR,C;;;;ACjDA","file":"../src/collapsible/dist/scripts/collapsible.js","sourcesContent":["function collapsible(){\n  document.addEventListener('click', (event) => {\n\n    const element = event.target;\n    const targetSelector = element.getAttribute('data-collapsible-target');\n\n    if (targetSelector !== null) {\n      toggleCollapse(targetSelector);\n    }\n  }, false);\n\n  const toggleCollapse = targetSelector => {\n    const targets = document.querySelectorAll('.' + targetSelector);\n    targets.forEach(target => {\n      if (!target.classList.contains('collapsible-show')) {\n        target.style.maxHeight = target.scrollHeight + 'px';\n      } else {\n        target.style.maxHeight = 0 + 'px';\n      }\n      target.classList.toggle('collapsible-show');\n    });\n  }\n\n  const closeOnClickOutsideElements = document.querySelectorAll('[data-close-on-click-outside]');\n  closeOnClickOutsideElements.forEach(element => hideOnClickOutside(element))\n\n  function hideOnClickOutside(element) {\n    const outsideClickListener = event => {\n      // Third checks if the element clicked isn't the toggler, which would result in a double click event that conflict each other.\n      if (!element.contains(event.target) && isVisible(element) && !element.classList.contains(event.target.getAttribute('data-collapsible-target'))) {\n        element.classList.remove('collapsible-show')\n        element.style.maxHeight = 0;\n      }\n    }\n    document.addEventListener('click', outsideClickListener)\n    const isVisible = elem => !!elem && !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length) // source (2018-03-11): https://github.com/jquery/jquery/blob/master/src/css/hiddenVisibleSelectors.js\n  }\n}\n\nfunction docReady(fn) {\n  // see if DOM is already available\n  if (document.readyState === \"complete\" || document.readyState === \"interactive\") {\n    // call on next available tick\n    setTimeout(fn, 1);\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", fn);\n  }\n}\n\ndocReady(collapsible);","// extracted by mini-css-extract-plugin\nexport {};"],"sourceRoot":""}